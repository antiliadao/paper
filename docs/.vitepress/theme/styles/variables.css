/**
 * ANTILIA Design System Variables
 * 基于 Ant Green (#059669) 的完整设计系统
 * 保持 VitePress 原生变量命名，仅覆盖值
 */

/* ============================================
   1. 颜色系统 - 科学的色阶设计
   ============================================ */

:root {
  /* 品牌色阶 - 基于 #059669 生成的 11 级色阶 */
  --ant-50: #ecfdf5;
  --ant-100: #d1fae5;
  --ant-200: #a7f3d0;
  --ant-300: #6ee7b7;
  --ant-400: #34d399;
  --ant-500: #10b981;
  --ant-600: #059669; /* 核心品牌色 */
  --ant-700: #047857;
  --ant-800: #065f46;
  --ant-900: #064e3b;
  --ant-950: #022c22;

  /* 中性色阶 - 优化的灰度系统 */
  --gray-50: #f9fafb;
  --gray-100: #f3f4f6;
  --gray-200: #e5e7eb;
  --gray-300: #d1d5db;
  --gray-400: #9ca3af;
  --gray-500: #6b7280;
  --gray-600: #4b5563;
  --gray-700: #374151;
  --gray-800: #1f2937;
  --gray-900: #111827;
  --gray-950: #030712;

  /* 功能色 - 语义化颜色 */
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-info: #3b82f6;

  /* ============================================
     2. VitePress 变量覆盖 - 浅色主题
     ============================================ */
  
  /* 品牌色映射 */
  --vp-c-brand-1: var(--ant-600);
  --vp-c-brand-2: var(--ant-700);
  --vp-c-brand-3: var(--ant-800);
  --vp-c-brand-soft: var(--ant-50);

  /* 背景色系统 */
  --vp-c-bg: #ffffff;
  --vp-c-bg-alt: var(--gray-50);
  --vp-c-bg-elv: #ffffff;
  --vp-c-bg-soft: var(--ant-50);

  /* 文本色系统 */
  --vp-c-text-1: var(--gray-900);
  --vp-c-text-2: var(--gray-700);
  --vp-c-text-3: var(--gray-500);
  --vp-c-text-4: var(--gray-400);

  /* 边框系统 */
  --vp-c-border: var(--gray-200);
  --vp-c-divider: var(--gray-200);
  --vp-c-gutter: var(--gray-200);

  /* 按钮 - 使用品牌色 */
  --vp-button-brand-border: var(--ant-600);
  --vp-button-brand-bg: var(--ant-600);
  --vp-button-brand-text: #ffffff;
  --vp-button-brand-hover-border: var(--ant-700);
  --vp-button-brand-hover-bg: var(--ant-700);
  --vp-button-brand-hover-text: #ffffff;
  --vp-button-brand-active-border: var(--ant-800);
  --vp-button-brand-active-bg: var(--ant-800);

  /* 链接颜色 */
  --vp-c-link: var(--ant-600);
  --vp-c-link-hover: var(--ant-700);
  --vp-c-link-active: var(--ant-800);

  /* 代码块美化 */
  --vp-code-block-bg: var(--gray-50);
  --vp-code-line-highlight-color: var(--ant-50);
  --vp-code-copy-code-hover-bg: var(--ant-100);

  /* 自定义块 - 三层契约 */
  --vp-custom-block-tip-border: var(--ant-500);
  --vp-custom-block-tip-text: var(--ant-700);
  --vp-custom-block-tip-bg: var(--ant-50);
  --vp-custom-block-tip-code-bg: var(--ant-100);

  --vp-custom-block-info-border: var(--ant-600);
  --vp-custom-block-info-text: var(--ant-800);
  --vp-custom-block-info-bg: rgba(5, 150, 105, 0.05);
  --vp-custom-block-info-code-bg: var(--ant-50);

  --vp-custom-block-warning-border: var(--ant-700);
  --vp-custom-block-warning-text: var(--ant-900);
  --vp-custom-block-warning-bg: linear-gradient(135deg, var(--ant-50), var(--ant-100));
  --vp-custom-block-warning-code-bg: var(--ant-100);

  /* ============================================
     3. 设计令牌 - 间距、圆角、阴影
     ============================================ */

  /* 间距系统 - 8px 基准 */
  --space-1: 0.25rem;  /* 4px */
  --space-2: 0.5rem;   /* 8px */
  --space-3: 0.75rem;  /* 12px */
  --space-4: 1rem;     /* 16px */
  --space-6: 1.5rem;   /* 24px */
  --space-8: 2rem;     /* 32px */
  --space-12: 3rem;    /* 48px */
  --space-16: 4rem;    /* 64px */

  /* 圆角系统 */
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;
  --radius-full: 9999px;

  /* 阴影系统 - 优雅的层次感 */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  
  /* 品牌色阴影 */
  --shadow-brand: 0 10px 40px -10px rgba(5, 150, 105, 0.3);
  --shadow-brand-lg: 0 20px 60px -15px rgba(5, 150, 105, 0.4);

  /* 过渡动画 */
  --transition-fast: 150ms ease;
  --transition-base: 250ms ease;
  --transition-slow: 350ms ease;

  /* 渐变 */
  --gradient-brand: linear-gradient(135deg, var(--ant-500), var(--ant-700));
  --gradient-soft: linear-gradient(135deg, var(--ant-50), var(--ant-100));
  --gradient-vibrant: linear-gradient(135deg, #059669, #00ffc8);
}

/* ============================================
   4. 深色主题 - 优雅的暗夜模式
   ============================================ */

html.dark {
  /* 背景色调整 */
  --vp-c-bg: #0a0f0c;
  --vp-c-bg-alt: #111816;
  --vp-c-bg-elv: #1a2220;
  --vp-c-bg-soft: #141918;

  /* 文本色调整 */
  --vp-c-text-1: #e8f5f0;
  --vp-c-text-2: #c3dfd2;
  --vp-c-text-3: #94a39e;
  --vp-c-text-4: #5a6663;

  /* 边框调整 */
  --vp-c-border: rgba(226, 232, 240, 0.1);
  --vp-c-divider: rgba(226, 232, 240, 0.08);
  --vp-c-gutter: rgba(226, 232, 240, 0.06);

  /* 品牌色微调 - 深色模式下提高亮度 */
  --vp-c-brand-1: var(--ant-500);
  --vp-c-brand-2: var(--ant-400);
  --vp-c-brand-3: var(--ant-300);
  --vp-c-brand-soft: rgba(5, 150, 105, 0.1);

  /* 按钮深色模式 */
  --vp-button-brand-bg: var(--ant-600);
  --vp-button-brand-hover-bg: var(--ant-500);
  --vp-button-brand-active-bg: var(--ant-700);

  /* 代码块深色 */
  --vp-code-block-bg: #0d1512;
  --vp-code-line-highlight-color: rgba(5, 150, 105, 0.1);

  /* 自定义块深色调整 */
  --vp-custom-block-tip-bg: rgba(16, 185, 129, 0.1);
  --vp-custom-block-info-bg: rgba(5, 150, 105, 0.08);
  --vp-custom-block-warning-bg: rgba(4, 120, 87, 0.1);

  /* 阴影深色模式 */
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px -1px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -2px rgba(0, 0, 0, 0.3);
  --shadow-brand: 0 10px 40px -10px rgba(5, 150, 105, 0.4);
}

/* ============================================
   5. 组件美化 - 视觉增强
   ============================================ */

/* 导航栏优化 - 保持轻量 */
.VPNav {
  backdrop-filter: blur(8px);
  border-bottom: 1px solid var(--vp-c-border);
}

/* 侧边栏美化 - 移除强制背景色 */

.VPSidebarItem.is-active > .item > .link > .text {
  color: var(--vp-c-brand-1);
  font-weight: 600;
}

.VPSidebarItem.is-active > .item > .link::before {
  content: '';
  position: absolute;
  left: -12px;
  top: 50%;
  transform: translateY(-50%);
  width: 3px;
  height: 20px;
  background: var(--gradient-brand);
  border-radius: var(--radius-full);
}

/* 按钮增强 */
.VPButton {
  position: relative;
  overflow: hidden;
  transition: all var(--transition-base);
  font-weight: 500;
}

.VPButton:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.VPButton.brand {
  background: var(--gradient-brand) !important;
  border: none !important;
}

.VPButton.brand::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: var(--radius-full);
  background: rgba(255, 255, 255, 0.3);
  transform: translate(-50%, -50%);
  transition: width var(--transition-slow), height var(--transition-slow);
}

.VPButton.brand:active::after {
  width: 300px;
  height: 300px;
}

/* 链接悬停效果 */
.vp-doc a {
  position: relative;
  text-decoration: none;
  background-image: linear-gradient(to right, var(--vp-c-brand-1), var(--vp-c-brand-1));
  background-size: 0% 2px;
  background-position: left bottom;
  background-repeat: no-repeat;
  transition: background-size var(--transition-base);
}

.vp-doc a:hover {
  background-size: 100% 2px;
}

/* 代码块美化 */
div[class*='language-'] {
  position: relative;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
}

div[class*='language-']::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: var(--gradient-brand);
}

/* 滚动条美化 */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--vp-c-bg-alt);
  border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, var(--ant-400), var(--ant-600));
  border-radius: var(--radius-full);
  border: 2px solid var(--vp-c-bg-alt);
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, var(--ant-500), var(--ant-700));
}

/* 选择文本美化 */
::selection {
  background: rgba(5, 150, 105, 0.2);
  color: var(--vp-c-text-1);
}

/* 焦点可见性 - 可访问性 */
*:focus-visible {
  outline: 2px solid var(--vp-c-brand-1);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}

/* 页面过渡动画 */
.VPContent {
  animation: fadeInUp 0.5s ease;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 自定义容器美化 */
.custom-block {
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  margin: var(--space-6) 0;
  position: relative;
  overflow: hidden;
  transition: all var(--transition-base);
}

.custom-block:hover {
  transform: translateX(4px);
  box-shadow: var(--shadow-md);
}

.custom-block.tip {
  background: linear-gradient(135deg, var(--vp-custom-block-tip-bg), transparent);
  border-left: 4px solid var(--vp-custom-block-tip-border);
}

.custom-block.info {
  background: linear-gradient(135deg, var(--vp-custom-block-info-bg), transparent);
  border-left: 4px solid var(--vp-custom-block-info-border);
}

.custom-block.warning {
  background: var(--vp-custom-block-warning-bg);
  border-left: 4px solid var(--vp-custom-block-warning-border);
}

/* 表格美化 */
.vp-doc table {
  border-radius: var(--radius-lg);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
}

.vp-doc tr {
  transition: background var(--transition-fast);
}

.vp-doc tr:hover {
  background: var(--vp-c-bg-soft);
}

.vp-doc th {
  background: var(--gradient-soft);
  font-weight: 600;
  text-transform: uppercase;
  font-size: 0.85em;
  letter-spacing: 0.05em;
}

/* 图片优化 */
.vp-doc img {
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  transition: all var(--transition-base);
}

.vp-doc img:hover {
  transform: scale(1.02);
  box-shadow: var(--shadow-xl);
}

/* 性能优化：减少动画 */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* 打印样式 */
@media print {
  .VPNav,
  .VPSidebar,
  .VPDocFooter {
    display: none;
  }
  
  .VPContent {
    margin: 0;
    padding: 20px;
  }
}